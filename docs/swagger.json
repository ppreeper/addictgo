{
    "swagger": "2.0",
    "info": {
        "description": "This is the swagger spec for AD Dict",
        "title": "AD Dict API",
        "termsOfService": "http://preeper.org/addict/",
        "contact": {
            "name": "Peter Preeper",
            "email": "ppreeper@gmail.com"
        },
        "license": {
            "name": "AGPL-3",
            "url": "https://www.gnu.org/licenses/agpl-3.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:3001",
    "basePath": "/",
    "paths": {
        "/all": {
            "get": {
                "description": "Pulls all Active Directory objects",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "other"
                ],
                "summary": "Get all objects",
                "parameters": [
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/find/{filter}": {
            "get": {
                "description": "Does a raw Active Directory search",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "other"
                ],
                "summary": "Search Active Directory",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search filter",
                        "name": "filter",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/group": {
            "get": {
                "description": "Pulls all groups in Active Directory, with filters.",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "group"
                ],
                "summary": "Get all groups",
                "parameters": [
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "post": {
                "description": "Adds a new group to Active Directory",
                "tags": [
                    "group"
                ],
                "summary": "Add a group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Name of the group as displayed",
                        "name": "cn",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Descripton of the group",
                        "name": "description",
                        "in": "formData"
                    },
                    {
                        "type": "string",
                        "description": "Relative AD Position separated by / (ex Users or Users/Office)",
                        "name": "location",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/group/{group}": {
            "get": {
                "description": "Pulls a single group",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "group"
                ],
                "summary": "Get a single group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The group name",
                        "name": "group",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "delete": {
                "description": "Removes a group from Active Directory",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "group"
                ],
                "summary": "Remove a group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The group name",
                        "name": "group",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/group/{group}/exists": {
            "get": {
                "description": "Returns whether a group exists or not",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "group"
                ],
                "summary": "Group exists",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The group name",
                        "name": "group",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/group/{group}/user/{user}": {
            "post": {
                "description": "Adds a user to a group",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "group"
                ],
                "summary": "Add user to group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The group name",
                        "name": "group",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "delete": {
                "description": "Removes a user from a group",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "group"
                ],
                "summary": "Remove user from group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The group name",
                        "name": "group",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/other": {
            "get": {
                "description": "Pulls all non-user/group Active Directory objects",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "other"
                ],
                "summary": "Get all other objects",
                "parameters": [
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/ou": {
            "get": {
                "description": "Pulls all Organization Units in Active Directory, with filters",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "ou"
                ],
                "summary": "Get all OUs",
                "parameters": [
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "post": {
                "description": "Adds a new OU to Active Directory",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "ou"
                ],
                "summary": "Add an OU",
                "parameters": [
                    {
                        "description": "Name of the OU as displayed",
                        "name": "name",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Descripton of the OU",
                        "name": "description",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Relative AD Position separated by /",
                        "name": "location",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/ou/{ou}": {
            "get": {
                "description": "Pulls a single OU",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "ou"
                ],
                "summary": "Get a single OU",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The OU name",
                        "name": "ou",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "delete": {
                "description": "Removes the OU from Active Directory",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "ou"
                ],
                "summary": "Remove an OU",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The OU name",
                        "name": "ou",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/ou/{ou}/exists": {
            "get": {
                "description": "Returns whether a OU exists or not",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "ou"
                ],
                "summary": "OU exists",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The OU name",
                        "name": "ou",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/status": {
            "get": {
                "description": "Gives the uptime and status of the API.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "other"
                ],
                "summary": "Get API status",
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user": {
            "get": {
                "description": "Pulls all users in Active Directory, with filters",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get all users",
                "parameters": [
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "post": {
                "description": "Adds a new user to Active Directory",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Add a user",
                "parameters": [
                    {
                        "description": "User name",
                        "name": "userName",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Password to log in",
                        "name": "pass",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Equivalent to the user's full name",
                        "name": "commonName",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "First name",
                        "name": "firstName",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Last name",
                        "name": "lastName",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Email address",
                        "name": "email",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Job title",
                        "name": "title",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Relative AD folder position",
                        "name": "location",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/user/{user}": {
            "get": {
                "description": "Pulls a single user",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Get a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Comma-delimited field names to return",
                        "name": "_fields",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "Searches all fields for given string",
                        "name": "_q",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to start from",
                        "name": "_start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Result Index to end to",
                        "name": "_end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "put": {
                "description": "Updates properties of a user",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Update a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Password of user",
                        "name": "password",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "First name of user",
                        "name": "firstName",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Last name of user",
                        "name": "lastName",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Full name of user",
                        "name": "commonName",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Email address of user",
                        "name": "email",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Job title of user",
                        "name": "title",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Whether the account is enabled",
                        "name": "enabled",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "Whether the password should expire",
                        "name": "passwordExpires",
                        "in": "body",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            },
            "delete": {
                "description": "Removes a user from Active Directory",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Remove a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/authenticate": {
            "post": {
                "description": "Runs a username and password against AD",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Authenticate a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "The users password",
                        "name": "password",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/disable": {
            "put": {
                "description": "Disables the users account",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Disable a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/enable": {
            "put": {
                "description": "Enables the users account",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Enable a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/exists": {
            "get": {
                "description": "Returns whether a user exists or not",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "User exists",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/member-of/{group}": {
            "get": {
                "description": "Returns whether a user is a member of a group or not",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "User is a member of group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The group name",
                        "name": "group",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/move": {
            "put": {
                "description": "Moves a user to a new location relative to the directory root",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Move a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "The new position, separated by /",
                        "name": "location",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/password": {
            "put": {
                "description": "Changes the users password",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Change a password",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "The users password",
                        "name": "password",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/password-expires": {
            "put": {
                "description": "Set the password to eventually expire",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Set password expires",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/password-never-expires": {
            "put": {
                "description": "Sets the password to never expire",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Set password never expires",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        },
        "/user/{user}/unlock": {
            "put": {
                "description": "Unlocks a user",
                "consumes": [
                    "text/plain"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "users"
                ],
                "summary": "Unlock a user",
                "parameters": [
                    {
                        "type": "string",
                        "description": "The user logon name",
                        "name": "user",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        }
    }
}